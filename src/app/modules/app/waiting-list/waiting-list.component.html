<div class="body">
  <div class="titlebar">
    <span class="title">Waiting List</span>
    <div>
      <button
        mat-stroked-button
        color="accent"
        class="waitingTokenBtn"
        (click)="createWaitingToken()"
      >
        <mat-icon>add</mat-icon><span>Waiting Token</span>
      </button>
    </div>
  </div>
  <mat-card class="tabBody">
    <mat-tab-group class="tabGroup">
      <mat-tab *ngFor="let section of waitingTokenData">
        <ng-template mat-tab-label>
          {{ section.name }}
          <span class="waitingListCount">{{ section.customers.length }}</span>
        </ng-template>

        <table
          mat-table
          [dataSource]="section.customers"
          class="mat-elevation-z8 waitingList"
        >
          <!-- waitingTokenData.customers = {
            "id": 1,
            "mobile": "9499545454",
            "email": "test@test.com",
            "name": "Harmit",
            "status": "waiting",
            "head_count": 75,
            "created_at": "2025-04-04T10:14:03.000000Z",
            "updated_at": "2025-04-11T07:39:59.000000Z",
            "deleted_at": null,
            "section_id": 3
          }, -->

          <!-- Position Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>No.</th>
            <td mat-cell *matCellDef="let element">{{ element.id }}</td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="updatedAt">
            <th mat-header-cell *matHeaderCellDef>Created at</th>
            <td mat-cell *matCellDef="let element">
              {{ element.updated_at | date: "dd/MM/yyyy hh:mm:ss a" : "+0000" }}
            </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="waitingTime">
            <th mat-header-cell *matHeaderCellDef>Waiting Time</th>
            <td mat-cell *matCellDef="let element">time</td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="headCount">
            <th mat-header-cell *matHeaderCellDef>No. of Persons</th>
            <td mat-cell *matCellDef="let element">{{ element.head_count }}</td>
          </ng-container>

          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>Phone</th>
            <td mat-cell *matCellDef="let element">{{ element.mobile }}</td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let element">{{ element.email }}</td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Actions</th>
            <td mat-cell *matCellDef="let element">
              <div class="actionIcons">
                <mat-icon (click)="editWaitingToken(element)">edit</mat-icon>
                <mat-icon (click)="deleteWaitingToken(element.id)"
                  >delete</mat-icon
                >
                <mat-icon (click)="assignTable()">done</mat-icon>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </mat-tab>
    </mat-tab-group>
  </mat-card>
</div>
