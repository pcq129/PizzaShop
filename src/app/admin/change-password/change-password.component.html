<div class="body">
  <div class="titlebar">
    <span class="title">Change Password</span>
  </div>
  <div>
    <form
      [formGroup]="passwordData"
      class="passwordForm"
      (ngSubmit)="changePassword(passwordData.value)"
    >
      <mat-form-field class="passwordInput" appearance="outline">
        <mat-label>Current Password</mat-label>
        <input
          matInput
          formControlName="currentPassword"
          required
          type="password"
        />
      </mat-form-field>

      <mat-form-field class="passwordInput" appearance="outline">
        <mat-label>New Password</mat-label>
        <input
          matInput
          formControlName="newPassword"
          required
          #newPassword
          type="password"
        />
      </mat-form-field>

      <mat-form-field class="passwordInput" appearance="outline">
        <mat-label>Confirm Password</mat-label>
        <input
          matInput
          formControlName="confirmPassword"
          required
          #confirmPassword
          type="password"
          (invalid)="(invalidPasswords)"
        />
        <!-- <mat-error class="error" [hidden]="!invalidPasswords"
          >New Password and current password doesn't match.</mat-error
        > -->
        <mat-error
          *ngIf="
            passwordData.controls.confirmPassword.hasError('passwordMismatch')
          "
          class="errorText"
        >
          New password and confirm password must match
        </mat-error>
      </mat-form-field>

      <div class="right">
        <button
          mat-stroked-button
          type="button"
          (click)="redirect('dashboard')"
        >
          Cancel
        </button>
        <button mat-flat-button type="submit" [disabled]="!passwordData.valid">
          Submit
        </button>
      </div>
    </form>
  </div>
</div>
